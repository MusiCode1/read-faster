# יומן שינויים

השינויים מסודרים בסדר כרונולוגי הפוך - השינויים האחרונים מופיעים בתחילת הקובץ.

## [20.02.2025]

### שינוי: רפקטור קומפוננטות UI ושיפור תמיכה ברספונסיביות

- **פירוט טכני**:

  - יצירת BaseCard כקומפוננטת בסיס משותפת
  - רפקטור של WordCard ו-ImageCard להשתמש ב-BaseCard
  - שיפורים בקומפוננטות layout:
    - עדכון Container לתמיכה טובה יותר במסכים שונים
    - הוספת placeholder ב-Header לשמירת מרווחים
    - שיפור PracticeScreen עם gap משתנה לפי גודל מסך
  - שיפורים בהגדרות פיתוח:
    - הוספת הגדרות TypeScript מתקדמות
    - הגדרת ESLint עם תמיכה משופרת
    - הוספת תמיכה ב-host חיצוני בשרת הפיתוח
  - הקבצים שהשתנו:
    - קומפוננטות UI: BaseCard, WordCard, ImageCard
    - קומפוננטות layout: Container, Header, PracticeScreen
    - הגדרות: .vscode/settings.json, vite.config.ts
    - טיפוסים: src/lib/types/index.ts
    - layout ראשי: src/routes/+layout.svelte

- **למה**:
  זיהינו צורך בשיפור העקביות והתחזוקתיות של קומפוננטות ה-UI, יחד עם שיפור התמיכה במסכים בגדלים שונים. השינויים נועדו ליצור תשתית UI אחידה ולשפר את חווית המשתמש במכשירים שונים.

- **השפעות**:
  - קוד UI עקבי ונוח יותר לתחזוקה
  - תמיכה משופרת במסכים בגדלים שונים
  - שיפור בהגדרות הפיתוח והבדיקות
  - הפחתת כפילות קוד בקומפוננטות UI

## [20.02.2025]

### שינוי: הוספת הגדרות תכנות פונקציונלי לפרויקט

- **פירוט טכני**:

  - הוספת סעיף חדש "תכנות פונקציונלי" ב-.clinerules
  - עדכון סעיף Svelte להתאמה לגישה הפונקציונלית:
    - הסרת השימוש ב-stores למצב גלובלי
    - הוספת העדפה להעברת props על פני stores
    - הוספת שימוש ב-$derived עבור ערכים מחושבים
  - הקבצים שהשתנו: `.clinerules`

- **למה**:
  הפרויקט עובר לגישה פונקציונלית טהורה יותר, עם דגש על הימנעות ממצב גלובלי והעדפת העברת נתונים מפורשת בין קומפוננטות. השינוי נועד להפחית תלויות סמויות ולשפר את יכולת התחזוקה והבדיקה של הקוד.

- **השפעות**:
  - שינוי בארכיטקטורת הקוד - מעבר מניהול מצב גלובלי להעברת props
  - הפחתת תלויות סמויות בין קומפוננטות
  - שיפור יכולת הבדיקה של הקוד
  - צורך בארגון מחדש של props בקומפוננטות קיימות לאובייקטים לוגיים

## [19.02.2025]

### שינוי: תיקון הצגת המילה הראשונה בסשן

- **פירוט טכני**:

  - הוספת פונקציית `setupWordVisibility` שמרכזת את לוגיקת הצגת המילים
  - עדכון `handleNextWord` ו-`handlePrevWord` להשתמש בפונקציה החדשה
  - הוספת `$effect` שמפעיל את `setupWordVisibility` בתחילת הסשן
  - הקבצים שהשתנו: `src/routes/practice/+page.svelte`

- **למה**:
  המילה הראשונה בסשן לא הייתה מוצגת בטעינה הראשונית של העמוד, אלא רק לאחר לחיצה. השינוי מבטיח שהמילה תוצג מיד עם תחילת הסשן.

- **השפעות**:
  - שיפור חווית המשתמש - המילה מוצגת מיד בתחילת הסשן
  - קוד נקי יותר עם הפרדת אחריויות ברורה בין הפונקציות השונות

## 18.02.2025

### שיפור: העברת לוגיקת איפוס מצב מילה ל-handleNextWord/Prev

- **פירוט טכני**:

  - העברת לוגיקת איפוס מצב המילה והתמונה מה-$effect לתוך handleNextWord ו-handlePrevWord
  - הסרת ה-$effect המיותר שגרם לשגיאת ESLint
  - הוספת הגדרות ESLint ב-.vscode/settings.json
  - פורמט אוטומטי של כל הקבצים על ידי prettier

- **למה**:

  - מניעת שגיאת ESLint של unused expression
  - ארגון הקוד בצורה יותר לוגית ונקייה
  - הגדרת פורמט וכללי לינטינג אחידים בעורך הקוד

- **השפעות**:
  - הקוד עובר את כל בדיקות הלינטינג ללא שגיאות
  - פורמט אחיד בכל הקבצים
  - עורך הקוד יבצע בדיקות לינטינג ופורמט באופן אוטומטי

## 18.02.2025

### שינוי: שיפור מערכת הניווט והשיתוף באמצעות URL

- **פירוט טכני**:

  1. הוספת תמיכה בשמירת המילה הנוכחית:
     - הוספת פרמטר `wordIndex` ל-URL
     - עדכון `WordSession.create` לקבלת אינדקס התחלתי
     - עדכון ה-URL בכל מעבר בין מילים
  2. שיפור הטיפול במצבי קצה:
     - הוספת בדיקות תקינות לכל הפרמטרים מה-URL
     - טיפול במקרה של אינדקס לא תקין ב-`getCurrentWord`
     - החזרת המילה הראשונה כברירת מחדל במקרה של שגיאה
  3. שיפורים בממשק המשתמש:
     - שינוי האינדקס ל-1-based ב-URL לשיפור חווית המשתמש
     - שמירה על 0-based בלוגיקה הפנימית
     - המרה אוטומטית בין השניים
  4. תיקוני באגים:
     - תיקון שם המפתח מ-leavel_1 ל-level_1
     - הסרת כפילות במילה "רָאָה"
     - הוספת פסיקים חסרים בקבצים שונים

- **למה**:

  - לאפשר למשתמשים לשמור ולשתף קישורים למילים ספציפיות
  - למנוע שגיאות ומצבים לא צפויים בעת שינוי ידני של ה-URL
  - לשפר את חווית המשתמש ואת יציבות המערכת

- **השפעות**:
  - תמיכה מלאה בשיתוף קישורים למילים ספציפיות
  - מערכת יציבה יותר שמתמודדת טוב יותר עם קלט לא צפוי
  - ממשק משתמש אינטואיטיבי יותר עם מספור מילים המתחיל מ-1

## 18.02.2024

### שינוי: יצירת מערכת תיעוד שינויים

- **פירוט טכני**: הקמנו מערכת לתיעוד שינויים בפרויקט. יצרנו את הקובץ הנוכחי (`documentation/CHANGELOG.md`) ועדכנו את כללי העבודה ב-`.clinerules` כדי לכלול את תהליך התיעוד החדש. המערכת כוללת תבנית מובנית לתיעוד שינויים הכוללת תאריך, תיאור השינוי, פירוט טכני, סיבת השינוי והשפעותיו.

- **למה**: זיהינו צורך במעקב מסודר אחר שינויים בפרויקט והסיבות להם, כדי לשפר את התיעוד ולאפשר הבנה טובה יותר של התפתחות המערכת לאורך זמן.

- **השפעות**: תהליך העבודה כעת כולל תיעוד מפורט של כל שינוי משמעותי, מה שיקל על הבנת ההיסטוריה של הפרויקט ויסייע בקבלת החלטות עתידיות.
